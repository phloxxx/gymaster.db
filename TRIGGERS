USE GYMASTER 
GO

CREATE TRIGGER TRGTRANSACTIONINSERT
ON [TRANSACTION]
AFTER INSERT
AS
BEGIN
INSERT INTO TRANSACTION_LOG (TRANSACTION_ID, OPERATION, MODIFIEDDATE)
SELECT TRANSACTION_ID, 'INSERT', GETDATE()
FROM INSERTED
END
GO

CREATE TRIGGER TRGTRANSACTIONUPDATE
ON [TRANSACTION]
AFTER UPDATE
AS
BEGIN
INSERT INTO TRANSACTION_LOG (TRANSACTION_ID, OPERATION, MODIFIEDDATE)
SELECT TRANSACTION_ID, 'UPDATE', GETDATE()
FROM INSERTED
END
GO

CREATE TRIGGER TRGCLASSDELETE
ON [TRANSACTION]
AFTER DELETE
AS
BEGIN
INSERT INTO TRANSACTION_LOG (TRANSACTION_ID, OPERATION, MODIFIEDDATE)
SELECT TRANSACTION_ID, 'DELETE', GETDATE()
FROM DELETED
END
GO
